<head>
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
</head>
<div class="container">
	<div class="starter-template">
		<h1>Google Trends Strategy</h1>
		<p class="lead">
			Use Google Trends Terms to try to predict future stock prices.
		</p>
		<form class="form-max-width" action="show">
			<div class="form-group">
				<label class="control-label" for="trend_term">Google Trends Term:</label>
				<input required type="text" id="trend_term" name="trend_term" class="form-control">
			</div>
			<div class="form-group">
				<label class="control-label" for="stock_symbol">Stock Symbol:</label>
				<input required type="text" id="stock_symbol" name="stock_symbol" class="form-control">
			</div>
			<button type="submit" class="btn btn-primary">
				Submit
			</button>
		</form>
	</div>

	<div class="starter-template">
		<h4>Popular Searches</h4>
		<div class="col-md-3 col-xs-offset-3">
			
			<table class="pure-table" style="margin-left:25px;">
			    <thead>
			        <tr>
			            <th>ID</th>
			            <th>Term</th>
			            <th># Searches</th>
			        </tr>
			    </thead>

			    <tbody>
			    	<% @term_records.each_with_index do |p, index| %>
			        <tr>
						  <td><%= index + 1 %></td>
						  <td><%= p.term %></td>
						  <td><%= p.count %></td>
			        </tr>
			        <% end %>
			    </tbody>
			</table>
		</div>

		<div class="col-md-3">
		<table class="pure-table" style="margin-left:25px;">
		    <thead>
		        <tr>
		            <th>ID</th>
		            <th>Stock</th>
		            <th># Searches</th>
		        </tr>
		    </thead>

		    <tbody>
		    	<% @stock_records.each_with_index do |p, index| %>
		        <tr>
					  <td><%= index + 1 %></td>
					  <td><%= p.stock %></td>
					  <td><%= p.count %></td>
		        </tr>
		        <% end %>
		    </tbody>
		</table>
		</div>
	</div>
</div><!-- /.container -->

<script>
   $(document).ready(function(){
      $('#stock_symbol').autocomplete({
          serviceUrl: '/company_list/getHints',
          deferRequestBy:200
      });
  });

</script>
